body{margin:0}html{color:#fff}div{font-family:Bungee,sans-serif}:root{--key-bg: #f7f7f8;--key-bg2: #ececef;--key-border: #cfcfd6;--key-text: #2b2b2f;--key-shadow-outer: rgba(0, 0, 0, .18);--key-shadow-inner: rgba(0, 0, 0, .08);--key-highlight: rgba(255, 255, 255, .9)}.dark{--key-bg: #2d2f33;--key-bg2: #232529;--key-border: #3b3e44;--key-text: #f5f6f7;--key-shadow-outer: rgba(0, 0, 0, .6);--key-shadow-inner: rgba(255, 255, 255, .06);--key-highlight: rgba(255, 255, 255, .06)}.key{display:inline-flex;align-items:center;justify-content:center;gap:.35ch;min-width:2.2em;height:2.2em;padding:0 .7em;color:var(--key-text);font:600 .9rem/1 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial;letter-spacing:.02em;background:linear-gradient(to bottom,var(--key-bg),var(--key-bg2));border:1px solid var(--key-border);border-radius:8px;box-shadow:0 1.5px #fff9 inset,0 -1px 0 0 var(--key-shadow-inner) inset,0 2px #0000000f inset,0 .5px .5px #00000014,0 4px 10px -2px var(--key-shadow-outer);-webkit-user-select:none;user-select:none;transform:translateZ(0);transition:transform 80ms ease,box-shadow .12s ease,background .12s ease,border-color .12s ease}.key:before{content:"";position:absolute;pointer-events:none;inset:0;border-radius:inherit;background:linear-gradient(to bottom,var(--key-highlight),transparent 40%);mix-blend-mode:screen;opacity:.5}.key{position:relative;overflow:hidden}.key:hover{filter:saturate(1.02)}.key:active,.key[data-pressed=true]{transform:translateY(1px);box-shadow:0 .5px #ffffff80 inset,0 -1px #0000001a inset,0 1px 3px #0000001f;background:linear-gradient(to bottom,var(--key-bg2),var(--key-bg))}.key--sm{height:1.8em;min-width:1.8em;padding:0 .55em;font-size:.8rem;border-radius:6px}.key--md{height:2.6em;min-width:2.6em;padding:0 .9em;font-size:1rem;border-radius:9px}.key--flat{box-shadow:0 1px #0000001f}.key--round{border-radius:999px}.key--mono{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace;font-weight:600}.key--wide{min-width:5.5em;justify-content:center}@keyframes shake{0%,to{transform:translate(0)}20%,60%{transform:translate(-50px)}40%,80%{transform:translate(50px)}}.shake{animation:shake .5s ease-in-out}@keyframes flash-bg{0%{background-color:#fff59d}to{background-color:transparent}}@keyframes flash-red{0%{background-color:red}to{background-color:transparent}}@media (prefers-reduced-motion: reduce){.flash,.flash-red{animation:none!important}}.flash{animation:flash-bg .6s ease-out}.flash-red{animation:flash-red .6s ease-out}.gateBtn{--w: 260px;--h: 320px;--dur-gate: 1.1s;--dur-leaves: .9s;--delay-leaves: .25s;--stone1: #cfcfcf;--stone2: #a8a8a8;--mortar: #e9e9e9;--wood1: #7a4a27;--wood2: #5a361d;--iron: #9aa0a6;--iron-dk: #6b7076;--shadow: 0 16px 46px rgba(0, 0, 0, .35);position:relative;display:inline-grid;grid-template-rows:1fr auto;gap:10px;align-items:center;justify-items:center;background:transparent;border:0;padding:8px;cursor:pointer;transition:transform .12s ease}.gateBtn:is(:hover,:focus-visible){transform:translateY(-1px) scale(1.01)}.gateBtn.is-disabled{opacity:.6;cursor:not-allowed;transform:none}.gateBtn .gate{position:relative;width:var(--w);height:var(--h);filter:drop-shadow(var(--shadow));isolation:isolate;overflow:hidden}.gateBtn .stone-wall{position:absolute;inset:-10px;background:repeating-linear-gradient(0deg,var(--stone1) 0 28px,var(--stone2) 28px 56px)}.gateBtn .stone-wall:before{content:"";position:absolute;inset:0;background:repeating-linear-gradient(0deg,#0000 0 27px,var(--mortar) 27px 29px,#0000 29px 56px);mix-blend-mode:multiply;opacity:.4}.gateBtn .merlons{position:absolute;top:-6px;left:0;right:0;height:18px;background:linear-gradient(#0002,#0000);-webkit-mask:repeating-linear-gradient(90deg,#000 0 36px,#000 36px 54px,#0000 54px 72px) top/100% 100% repeat-x;background-color:var(--stone2);filter:drop-shadow(0 2px 0 #0003)}.gateBtn .arch{position:absolute;left:10px;right:10px;top:8px;height:48px;background:radial-gradient(120% 120% at 50% 100%,#0000 58%,var(--stone2) 60%);-webkit-mask:radial-gradient(120% 120% at 50% 100%,#0000 58%,#000 60%)}.gateBtn .jamb{position:absolute;top:48px;width:16px;bottom:6px;background:linear-gradient(180deg,var(--stone2),var(--stone1));box-shadow:inset 0 0 0 2px var(--mortar)}.gateBtn .jamb.left{left:6px;border-top-left-radius:8px}.gateBtn .jamb.right{right:6px;border-top-right-radius:8px}.gateBtn .door-leaves{position:absolute;left:50%;top:28px;transform:translate(-50%);width:calc(var(--w) - 40px);height:calc(var(--h) - 44px);z-index:2;display:grid;grid-template-columns:1fr 1fr}.gateBtn .leaf{position:relative;height:100%;background:linear-gradient(90deg,#ffffff10,#00000010),repeating-linear-gradient(0deg,var(--wood1) 0 12px,var(--wood2) 12px 24px);box-shadow:inset 0 0 0 2px #00000073;border-bottom-left-radius:12px;border-bottom-right-radius:12px;transform-style:preserve-3d;transition:transform var(--dur-leaves) cubic-bezier(.25,.9,.25,1);will-change:transform}.gateBtn .leaf.left{border-top-left-radius:16px;border-top-right-radius:2px;transform-origin:left center}.gateBtn .leaf.right{border-top-right-radius:16px;border-top-left-radius:2px;transform-origin:right center}.gateBtn .iron-bands{position:absolute;inset:0;background:repeating-linear-gradient(0deg,#0000 0 38px,#0000 38px 46px),repeating-linear-gradient(0deg,#0000 0 118px,#0000 118px 126px)}.gateBtn .iron-bands:before,.gateBtn .iron-bands:after{content:"";position:absolute;left:8%;right:8%;height:10px;border-radius:3px;background:linear-gradient(#ffffff26,#0000),linear-gradient(180deg,var(--iron),var(--iron-dk));box-shadow:inset 0 0 0 1px #0006,0 1px #0003}.gateBtn .iron-bands:before{top:36px}.gateBtn .iron-bands:after{bottom:36px}.gateBtn .leaf .handle{position:absolute;top:50%;width:12px;height:12px;border-radius:50%;background:radial-gradient(circle at 30% 30%,#fff7,#0000),var(--iron);box-shadow:0 0 0 2px #0006,inset 0 0 0 1px #fff3}.gateBtn .leaf.left .handle{right:18px;transform:translateY(-50%)}.gateBtn .leaf.right .handle{left:18px;transform:translateY(-50%)}.gateBtn .portcullis{position:absolute;left:50%;top:24px;width:calc(var(--w) - 36px);height:calc(var(--h) - 40px);transform:translate(-50%);z-index:3;transition:transform var(--dur-gate) cubic-bezier(.2,.9,.2,1);will-change:transform}.gateBtn .portcullis .bar{position:absolute;background:linear-gradient(#ffffff26,#0000),linear-gradient(180deg,var(--iron),var(--iron-dk));box-shadow:inset 0 0 0 1px #0006,0 1px #0003;border-radius:2px}.gateBtn .portcullis .bar.v{width:10px;height:90%}.gateBtn .portcullis .bar.h{height:10px;left:4%;width:92%}.gateBtn .portcullis .spikes{position:absolute;bottom:-8px;left:3%;right:3%;height:14px;background:conic-gradient(from 45deg at 6px 50%,#0000 0 90deg,#0008 0 100%) left/16px 100% repeat-x,linear-gradient(180deg,var(--iron-dk),var(--iron));-webkit-mask:repeating-linear-gradient(90deg,#000 0 16px,#0000 16px 16px);mask:repeating-linear-gradient(90deg,#000 0 16px,#0000 16px 16px);filter:drop-shadow(0 1px 0 #0007)}.gateBtn .chain{position:absolute;top:6px;width:3px;height:calc(var(--h) - 20px);background:repeating-linear-gradient(180deg,#4b4b4b 0 3px,#7a7a7a 3px 6px);filter:drop-shadow(0 0 1px #0008);transform-origin:top center}.gateBtn .chain.left{left:38px}.gateBtn .chain.right{right:38px}.gateBtn .winch{position:absolute;top:-2px;width:28px;height:22px;background:linear-gradient(180deg,var(--stone2),var(--stone1));border-bottom-left-radius:6px;border-bottom-right-radius:6px;box-shadow:0 2px #0003,inset 0 -2px 0 var(--mortar);z-index:4}.gateBtn .winch.left{left:24px}.gateBtn .winch.right{right:24px}.gateBtn.is-opening .portcullis{transform:translate(-50%,-62%);animation:gate-bounce .9s ease-out forwards}.gateBtn.is-opening .chain{animation:chain-lift var(--dur-gate) cubic-bezier(.2,.9,.2,1) forwards}.gateBtn.is-opening .leaf.left{transition-delay:var(--delay-leaves);transform:perspective(800px) rotateY(-78deg)}.gateBtn.is-opening .leaf.right{transition-delay:calc(var(--delay-leaves) + 60ms);transform:perspective(800px) rotateY(78deg)}@keyframes gate-bounce{70%{transform:translate(-50%,-68%)}to{transform:translate(-50%,-62%)}}@keyframes chain-lift{0%{transform:scaleY(1)}60%{transform:scaleY(.86)}to{transform:scaleY(.88)}}.gateBtn .gateLabel{font-weight:800;letter-spacing:.5px;color:#fff;text-shadow:0 2px 4px rgba(0,0,0,.6);-webkit-user-select:none;user-select:none}@media (prefers-reduced-motion: reduce){.gateBtn,.gateBtn *{transition:none!important;animation:none!important}}:root{--gi-bg: rgba(20, 20, 28, .55);--gi-brd: rgba(255, 255, 255, .18);--gi-brd-focus: #4caf50;--gi-glow: 0 10px 30px rgba(0, 0, 0, .35);--gi-text: #f3f3f3;--gi-muted: #b8c1cc}.gameFields{display:grid;grid-auto-flow:column;gap:12px;align-items:center}.gameField{position:relative;display:grid;grid-template-columns:36px 1fr;align-items:center;gap:10px;padding:10px 12px;border:1px solid var(--gi-brd);border-radius:12px;background:var(--gi-bg);box-shadow:var(--gi-glow);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);min-width:260px}.gameField.small{min-width:180px}.gi-icon{display:grid;place-items:center;width:28px;height:28px;color:var(--gi-muted)}.gi-input{width:100%;border:none;background:transparent;color:var(--gi-text);font-size:16px;outline:none}.gi-input::placeholder{color:#9aa4b2}.gameField:focus-within{border-color:var(--gi-brd-focus);box-shadow:0 0 0 3px color-mix(in srgb,var(--gi-brd-focus) 25%,transparent)}.gameField .hint{grid-column:1 / -1;margin-top:6px;font-size:12px;color:var(--gi-muted)}.gi-input.code{font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,Liberation Mono,monospace;letter-spacing:.08em;text-transform:uppercase}.gi-btn{--btn-bg: var(--gi-bg);--btn-brd: var(--gi-brd);--btn-text: var(--gi-text);--btn-accent: var(--gi-brd-focus);display:inline-grid;grid-auto-flow:column;align-items:center;gap:10px;padding:12px 18px;border:1px solid var(--btn-brd);border-radius:12px;background:linear-gradient(180deg,color-mix(in srgb,#ffffff 6%,transparent),transparent),var(--btn-bg);color:var(--btn-text);font-weight:700;letter-spacing:.3px;box-shadow:var(--gi-glow);-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);cursor:pointer;transition:transform .12s ease,border-color .16s ease,box-shadow .16s ease,background .16s ease,opacity .16s ease}.gi-btn:hover:not(:disabled){border-color:var(--btn-accent);box-shadow:0 0 0 3px color-mix(in srgb,var(--btn-accent) 25%,transparent),var(--gi-glow);transform:translateY(-1px)}.gi-btn:active:not(:disabled){transform:translateY(0);box-shadow:0 0 0 2px color-mix(in srgb,var(--btn-accent) 35%,transparent),var(--gi-glow)}.gi-btn:focus-visible{outline:none;border-color:var(--btn-accent);box-shadow:0 0 0 4px color-mix(in srgb,var(--btn-accent) 35%,transparent),var(--gi-glow)}.gi-btn:disabled,.gi-btn[aria-disabled=true]{opacity:.6;cursor:not-allowed}.gi-btn.primary{background:linear-gradient(180deg,color-mix(in srgb,#ffffff 10%,transparent),transparent),linear-gradient(180deg,color-mix(in srgb,var(--btn-accent) 35%,#2f8043),#1c5f2c);border-color:color-mix(in srgb,var(--btn-accent) 60%,#2b2b2b)}.gi-btn.primary:hover:not(:disabled){box-shadow:0 0 0 3px color-mix(in srgb,var(--btn-accent) 30%,transparent),0 10px 30px #0006}.gi-btn.block{width:100%;justify-content:center}.gi-btn .btn-ic{display:grid;place-items:center;color:color-mix(in srgb,#ffffff 85%,var(--btn-text))}.blood-splatter-container{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1000;overflow:hidden}.blood-splatter{position:absolute;background:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50,10 Q60,30 70,10 Q80,40 50,60 Q20,40 30,10 Q40,30 50,10" fill="%23ff0000" /></svg>') no-repeat center;background-size:contain;animation:bloodFall 1s ease-out forwards}@keyframes bloodFall{0%{opacity:1;transform:translateY(-20px) rotate(0)}to{opacity:0;transform:translateY(100vh) rotate(360deg)}}
